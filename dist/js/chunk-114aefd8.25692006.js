(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-114aefd8"],{"905e":function(e,o,n){},a55b:function(e,o,n){"use strict";n.r(o);var a=function(){var e=this,o=e.$createElement,n=e._self._c||o;return n("div",{staticClass:"login"},[n("div",{staticClass:"right-login-content"},[n("el-form",{ref:"form",staticClass:"container",attrs:{model:e.form}},[n("div",{staticClass:"login-name"},[e._v("系 统")]),n("div",{staticClass:"login-input"},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入用户名"},model:{value:e.form.username,callback:function(o){e.$set(e.form,"username",o)},expression:"form.username"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock",placeholder:"请输入密码"},nativeOn:{keyup:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.login(o)}},model:{value:e.form.password,callback:function(o){e.$set(e.form,"password",o)},expression:"form.password"}})],1),n("el-form-item",[n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"login-btn",attrs:{type:"primary",disabled:e.loading},on:{click:e.login}},[e._v(e._s(e.loginName))])],1)],1)])],1)])},s=[],t=n("41cb"),r=(n("f96b"),n("1c03"),n("bc3a")),i=n.n(r),l=n("1157"),c=n.n(l),m=n("b21a"),u=m["a"].API_CONFIG,d={userLogin:u+"/login",navUrl:u+"/navList"},f=[];c.a.ajax({type:"POST",async:!1,url:d.navUrl,data:"",success:function(e){f=JSON.parse(e).data},error:function(e){console.log(e.responseText)}}),console.log(f);var g=f,p={name:"Login",data:function(){return{loading:!1,form:{username:"",password:"",code:""},disabled:!1,loginName:"登录",codeImg:""}},methods:{getIdentifyCode:function(){var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",o=e.length,n=parseInt(Math.random()*o),a=parseInt(Math.random()*o),s=parseInt(Math.random()*o),t=parseInt(Math.random()*o),r=e[n]+e[a]+e[s]+e[t];this.codeImg=""+r},login:function(){var e=this;if(this.form.username)if(this.form.password){var o={username:this.form.username,password:this.form.password,verifyCode:this.form.code};this.loginName="登录中...",this.loading=!0,this.$api.userLogin(o,(function(o){if(o.ok){sessionStorage.removeItem("editableTabs");var n=e.$common.assemblingComponents(g);sessionStorage.setItem("routeMenuData",JSON.stringify(n)),console.log(o),sessionStorage.setItem("loginInfo",JSON.stringify(o.data)),i.a.defaults.headers.common["Authorization"]=o.data.token,Object(t["b"])(),e.$router.addRoutes(n),e.$router.push({name:"Home"}),e.$message.success("登录成功"),e.loginName="登录",e.loading=!1}else e.$message.error(o.message),e.loginName="登录",e.loading=!1}),(function(o){e.loginName="登录",e.loading=!1,console.info(o,"userLogin")}))}else this.$message.error("密码不可为空");else this.$message.error("用户名不可为空")}},mounted:function(){},beforeRouteEnter:function(e,o,n){n((function(e){}))},beforeRouteLeave:function(e,o,n){n()}},h=p,v=(n("a772"),n("b95e"),n("2877")),b=Object(v["a"])(h,a,s,!1,null,"54ea4acc",null);o["default"]=b.exports},a772:function(e,o,n){"use strict";var a=n("b02d"),s=n.n(a);s.a},b02d:function(e,o,n){},b95e:function(e,o,n){"use strict";var a=n("905e"),s=n.n(a);s.a}}]);